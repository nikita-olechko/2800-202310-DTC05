<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>

<body>

</body>

</html>
<%- include ('partials/navbar') %>
    <link rel="stylesheet" type="text/css" href="styles/info.css">
    <div class="container general-margin">
        <h1 id="name">
            <%= build.name %> Info
        </h1>
        <hr>
        <main>
            <div id="partsInfo" class="shadow-sm p-3 mt-3 rounded">
                <div class="container">
                    <div class="category-toggle" data-toggle="collapse" data-target="#categoryList"
                        aria-expanded="false" aria-controls="categoryList">
                        <h2>Parts Information</h2>
                        <span class="collapse-icon">▼</span>
                    </div>
                    <div id="categoryList" class="collapse">
                        <!-- Category 1 -->
                        <div class="category-toggle" data-toggle="collapse" data-target="#subcategoryList1"
                            aria-expanded="false" aria-controls="subcategoryList1">
                            <h5>CPUs</h5>
                            <span class="collapse-icon">▼</span>
                        </div>
                        <% if (cpus[0] != null) {%>
                        <div id="subcategoryList1" class="collapse">
                            <!-- Loop through each CPU document -->
                            <% cpus.forEach(function(cpu) { %>
                                <form action="/infoSpecs" method="POST">
                                    <input type="hidden" name="part" value='<%= cpu %>'>
                                    <input type="hidden" name="partType" value='cpu'>
                                    <button type="submit" class="btn btn-secondary mt-2 general-margin">
                                        <%= cpu %>
                                    </button>
                                </form>
                                <% }) %>
                                    <br>

                        </div>
                        <% } %>
                        
                        <!-- Category 2 -->
                        <div class="category-toggle" data-toggle="collapse" data-target="#subcategoryList2"
                            aria-expanded="false" aria-controls="subcategoryList2">
                            <h5>GPUs</h5>
                            <span class="collapse-icon">▼</span>
                        </div>
                        <% if (gpus[0] != null) {%>
                        <div id="subcategoryList2" class="collapse">
                            <% gpus.forEach(function(gpu) { %>
                                <form action="/infoSpecs" method="POST">
                                    <input type="hidden" name="part" value='<%= gpu %>'>
                                    <input type="hidden" name="partType" value='gpu'>
                                    <button type="submit" class="btn btn-secondary mt-2 general-margin">
                                        <%= gpu %>
                                    </button>
                                </form>
                                <% }) %>
                                    <br>
                        </div>
                        <% } %>

                        <!-- Category 3 -->
                        <div class="category-toggle" data-toggle="collapse" data-target="#subcategoryList3"
                            aria-expanded="false" aria-controls="subcategoryList3">
                            <h5>Memory</h5>
                            <span class="collapse-icon">▼</span>
                        </div>
                        <% if (memory[0] != null) {%>
                        <div id="subcategoryList3" class="collapse">
                            <% memory.forEach(function(memory) { %>
                                <form action="/infoSpecs" method="POST">
                                    <input type="hidden" name="part" value='<%= memory %>'>
                                    <input type="hidden" name="partType" value='memory'>
                                    <button type="submit" class="btn btn-secondary mt-2 general-margin">
                                        <%= memory %>
                                    </button>
                                </form>
                                <% }) %>
                                    <br>

                        </div>
                        <% } %>

                        <!-- Category 4 -->
                        <div class="category-toggle" data-toggle="collapse" data-target="#subcategoryList4"
                            aria-expanded="false" aria-controls="subcategoryList4">
                            <h5>CPU Coolers</h5>
                            <span class="collapse-icon">▼</span>
                        </div>
                        <% if (cpuCoolers[0] != null) {%>
                        <div id="subcategoryList4" class="collapse">
                            <% cpuCoolers.forEach(function(cpuCooler) { %>
                                <form action="/infoSpecs" method="POST">
                                    <input type="hidden" name="part" value='<%= cpuCooler %>'>
                                    <input type="hidden" name="partType" value='cpucoolers'>
                                    <button type="submit" class="btn btn-secondary mt-2 general-margin">
                                        <%= cpuCooler %>
                                    </button>
                                </form>
                                <% }) %>
                                    <br>

                        </div>
                        <% } %>

                        <!-- Category 5 -->
                        <div class="category-toggle" data-toggle="collapse" data-target="#subcategoryList5"
                            aria-expanded="false" aria-controls="subcategoryList5">
                            <h5>Motherboards</h5>
                            <span class="collapse-icon">▼</span>
                        </div>
                        <% if (motherboards[0] != null) {%>
                        <div id="subcategoryList5" class="collapse">
                            <% motherboards.forEach(function(motherboard) { %>
                                <form action="/infoSpecs" method="POST">
                                    <input type="hidden" name="part" value='<%= motherboard %>'>
                                    <input type="hidden" name="partType" value='motherboards'>
                                    <button type="submit" class="btn btn-secondary mt-2 general-margin">
                                        <%= motherboard %>
                                    </button>
                                </form>
                                <% }) %>
                                    <br>

                        </div>
                    <% } %>

                        <!-- Category 6 -->
                        <div class="category-toggle" data-toggle="collapse" data-target="#subcategoryList6"
                            aria-expanded="false" aria-controls="subcategoryList6">
                            <h5>Storage</h5>
                            <span class="collapse-icon">▼</span>
                        </div>
                        <% if (storage[0] != null) {%>
                        <div id="subcategoryList6" class="collapse">
                            <% storage.forEach(function(storage) { %>
                                <form action="/infoSpecs" method="POST">
                                    <input type="hidden" name="part" value='<%= storage %>'>
                                    <input type="hidden" name="partType" value='storage'>
                                    <button type="submit" class="btn btn-secondary mt-2 general-margin">
                                        <%= storage %>
                                    </button>
                                </form>
                                <% }) %>
                                    <br>
                        </div>
                        <% } %>
                        <div class="category-toggle" data-toggle="collapse" data-target="#subcategoryList7"
                            aria-expanded="false" aria-controls="subcategoryList7">
                            <h5>Power Supply</h5>
                            <span class="collapse-icon">▼</span>
                        </div>

                        <% if (powerSupply[0] != null) {%>
                        <div id="subcategoryList7" class="collapse">
                            <% powerSupply.forEach(function(powerSupply) { %>
                                <form action="/infoSpecs" method="POST">
                                    <input type="hidden" name="part" value='<%= powerSupply %>'>
                                    <input type="hidden" name="partType" value='powersupplies'>
                                    <button type="submit" class="btn btn-secondary mt-2 general-margin">
                                        <%= powerSupply %>
                                    </button>
                                </form>
                                <% }) %>
                                    <br>
                        </div>
                        <% } %>
                        <div class="category-toggle" data-toggle="collapse" data-target="#subcategoryList8"
                            aria-expanded="false" aria-controls="subcategoryList8">
                            <h5>Cases</h5>
                            <span class="collapse-icon">▼</span>
                        </div>

                        <% if (cases[0] != null) {%>
                        <div id="subcategoryList8" class="collapse">
                            <% cases.forEach(function(caseItem) { %>
                                <form action="/infoSpecs" method="POST">
                                    <input type="hidden" name="part" value='<%= caseItem %>'>
                                    <input type="hidden" name="partType" value='case'>
                                    <button type="submit" class="btn btn-secondary mt-2 general-margin">
                                        <%= caseItem %>
                                    </button>
                                </form>
                                <% }) %>

                                    <br>

                        </div>
                        <% } %>
                    </div>
                </div>
            </div>

            <!-- Drop down div to display AI generated build description -->

            <!-- <div class="category-toggle shadow-sm p-3 mb-5 mt-3 rounded" type="button" data-bs-toggle="collapse" data-bs-target="#build-description"
                aria-expanded="false" aria-controls="build-description">
                <span class="collapse-icon">▼</span>
            </div> -->

            <div id="build-description" class="container-fluid shadow-sm p-3 mb-5 rounded">
                <div class="container">
                    <h2>Build Description</h2>
                </div>
                <div class="card p-4">
                    <%- renderedBuildDescription %>
                </div>

            </div>




            <!-- <div id="buildGuides">
                <h2>Build Guides</h2>
               Add your build guides content here
            </div> -->
        </main>

        <script>
            clickCount = 0;
            $(document).ready(function () {
                if (clickCount == 0) {
                    $('.category-toggle').addClass('collapsed');
                    $('.category-toggle').find('.collapse-icon').css('color', 'white');
                    $('.category-toggle').removeClass('expanded');
                    clickCount++;
                }
                $('.category-toggle').on('click', function () {
                    $(this).toggleClass('collapsed');
                    if ($(this).hasClass('collapsed')) {
                        $(this).find('.collapse-icon').css('color', 'white');

                    } else {
                        $(this).addClass('expanded');
                        $(this).find('.collapse-icon').css('color', 'turquoise');
                    }
                });
            });
        </script>



        <%- include('partials/iconbar') %>